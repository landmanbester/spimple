cabs:
  spifit:
    flavour: python
    command: (spimple.cli.spifit)spifit
    info: Fit spectral index map.
    policies:
      pass_missing_as_none: true
    inputs:
      image:
        dtype: List[str]
        info: ''
        required: true
        policies:
          repeat: list
      output_filename:
        dtype: File
        info: ''
        required: true
      residual:
        dtype: str
        info: ''
        required: false
      psf_pars:
        dtype: str
        info: ''
        required: false
      circ_psf:
        dtype: bool
        info: ''
        required: false
        default: --circ-psf
      threshold:
        dtype: float
        info: ''
        required: true
      maxDR:
        dtype: float
        info: ''
        required: true
      nthreads:
        dtype: str
        info: ''
        required: false
      pfb_min:
        dtype: float
        info: ''
        required: true
      products:
        dtype: str
        info: ''
        required: true
      padding_frac:
        dtype: float
        info: ''
        required: true
      dont_convolve:
        dtype: bool
        info: ''
        required: false
        default: --dont-convolve
      channel_weights_keyword:
        dtype: str
        info: ''
        required: true
      channel_freqs:
        dtype: str
        info: ''
        required: false
      ref_freq:
        dtype: str
        info: ''
        required: false
      out_dtype:
        dtype: str
        info: ''
        required: true
      add_convolved_residuals:
        dtype: bool
        info: ''
        required: false
        default: --add_convolved_residuals
      ms:
        dtype: str
        info: ''
        required: false
      beam_model:
        dtype: str
        info: ''
        required: false
      sparsify_time:
        dtype: int
        info: ''
        required: true
      corr_type:
        dtype: str
        info: ''
        required: true
      band:
        dtype: str
        info: ''
        required: true
      deselect_bands:
        dtype: str
        info: ''
        required: false
    outputs:
      output_filename:
        dtype: File
        info: '{current.output_filename}.fits'
        required: false
